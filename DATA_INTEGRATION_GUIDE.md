# ğŸ‰ æ•°æ®é›†é›†æˆå®Œæˆ - æ–‡ä»¶æ”¾ç½®è¯´æ˜

## ğŸ“¦ æ‚¨è·å¾—äº†ä»€ä¹ˆ?

æœ¬æ¬¡å¼€å‘ä¸ºæ‚¨çš„å¿ƒç†å’¨è¯¢RAGç³»ç»Ÿé›†æˆäº†**å¤§è§„æ¨¡ä¸­æ–‡å¿ƒç†å’¨è¯¢æ•°æ®é›†**,åŒ…å«:

- âœ… **4ä¸ªPythonè„šæœ¬** - è‡ªåŠ¨ä¸‹è½½ã€å¤„ç†ã€å¯¼å…¥æ•°æ®
- âœ… **1ä¸ªShellè„šæœ¬** - ä¸€é”®è¿è¡Œå®Œæ•´æµç¨‹
- âœ… **1ä¸ªæµ‹è¯•è„šæœ¬** - éªŒè¯é›†æˆæ•ˆæœ
- âœ… **3ä¸ªæ–‡æ¡£** - å®Œæ•´çš„ä½¿ç”¨è¯´æ˜

---

## ğŸ“‚ æ–‡ä»¶æ”¾ç½®ä½ç½®

è¯·å°†ä»¥ä¸‹æ–‡ä»¶æ”¾ç½®åˆ°æ‚¨çš„é¡¹ç›®ä¸­å¯¹åº”ä½ç½®:

### 1. æ–°å¢æ¨¡å—ç›®å½• `data_integration/`

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `data_integration/` æ–‡ä»¶å¤¹,å¹¶æ”¾ç½®ä»¥ä¸‹æ–‡ä»¶:

```
psychological_counseling_system/
â””â”€â”€ data_integration/              # ã€æ–°å»ºæ­¤ç›®å½•ã€‘
    â”œâ”€â”€ __init__.py                # æ¨¡å—åˆå§‹åŒ–
    â”œâ”€â”€ dataset_downloader.py      # æ•°æ®é›†ä¸‹è½½å™¨
    â”œâ”€â”€ process_datasets.py        # æ•°æ®å¤„ç†å™¨
    â”œâ”€â”€ import_to_rag.py          # RAGå¯¼å…¥å·¥å…·
    â”œâ”€â”€ run_integration.sh         # ä¸€é”®è¿è¡Œè„šæœ¬
    â”œâ”€â”€ README.md                  # å®Œæ•´æ–‡æ¡£
    â””â”€â”€ INSTALL.md                 # å¿«é€Ÿå®‰è£…æŒ‡å—
```

### 2. æµ‹è¯•è„šæœ¬ `examples/`

å°†æµ‹è¯•è„šæœ¬æ”¾å…¥ç°æœ‰çš„ `examples/` ç›®å½•:

```
psychological_counseling_system/
â””â”€â”€ examples/
    â””â”€â”€ test_new_knowledge.py      # ã€æ–°å¢ã€‘æµ‹è¯•è„šæœ¬
```

### 3. æ ¹ç›®å½•è¯´æ˜æ–‡æ¡£

å°†æ­¤æ–‡æ¡£æ”¾åœ¨é¡¹ç›®æ ¹ç›®å½•:

```
psychological_counseling_system/
â””â”€â”€ DATA_INTEGRATION_GUIDE.md      # æœ¬æ–‡æ¡£
```

---
å“
## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹å¼1: ä¸€é”®è¿è¡Œ (æ¨è)

```bash
cd psychological_counseling_system

# èµ‹äºˆæ‰§è¡Œæƒé™
chmod +x data_integration/run_integration.sh

# è¿è¡Œå®Œæ•´æµç¨‹
./data_integration/run_integration.sh
```

### æ–¹å¼2: åˆ†æ­¥æ‰§è¡Œ

```bash
# æ­¥éª¤1: ä¸‹è½½æ•°æ®é›† (5-10åˆ†é’Ÿ)
python data_integration/dataset_downloader.py --dataset all

# æ­¥éª¤2: å¤„ç†æ•°æ® (10-20åˆ†é’Ÿ)
python data_integration/process_datasets.py

# æ­¥éª¤3: å¯¼å…¥RAG (30-60åˆ†é’Ÿ)
python data_integration/import_to_rag.py --verify

# æ­¥éª¤4: æµ‹è¯•æ•ˆæœ
python examples/test_new_knowledge.py
```

---

## ğŸ“Š é›†æˆçš„æ•°æ®é›†

### SmileChat (ä¸»æ¨)

- **è§„æ¨¡**: 55K+ ä¸­æ–‡å¤šè½®å¯¹è¯
- **æ¥æº**: è¥¿æ¹–å¤§å­¦ + æµ™å¤§ (EMNLP 2024)
- **ç‰¹ç‚¹**: é«˜è´¨é‡ã€å®Œå…¨å¼€æº
- **ä¸‹è½½**: è‡ªåŠ¨ä¸‹è½½

### PsyQA (å¯é€‰)

- **è§„æ¨¡**: 22Ké—®é¢˜ + 56Kå›ç­”
- **æ¥æº**: æ¸…åå¤§å­¦ (ACL 2021)
- **ç‰¹ç‚¹**: å«ç­–ç•¥æ ‡æ³¨
- **ä¸‹è½½**: éœ€é‚®ä»¶ç”³è¯·(å…è´¹)

---

## ğŸ“ è¿è¡Œåçš„ç›®å½•ç»“æ„

```
psychological_counseling_system/
â”‚
â”œâ”€â”€ data_integration/              # ã€æ–°å¢ã€‘é›†æˆæ¨¡å—
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ dataset_downloader.py
â”‚   â”œâ”€â”€ process_datasets.py
â”‚   â”œâ”€â”€ import_to_rag.py
â”‚   â”œâ”€â”€ run_integration.sh
â”‚   â”œâ”€â”€ README.md
â”‚   â””â”€â”€ INSTALL.md
â”‚
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ downloaded_datasets/       # ã€æ–°å¢ã€‘åŸå§‹æ•°æ®
â”‚   â”‚   â”œâ”€â”€ smilechat/
â”‚   â”‚   â”‚   â”œâ”€â”€ smilechat_train.json
â”‚   â”‚   â”‚   â”œâ”€â”€ smilechat_dev.json
â”‚   â”‚   â”‚   â””â”€â”€ smilechat_test.json
â”‚   â”‚   â”œâ”€â”€ psyqa/                 # (å¯é€‰,ç”³è¯·å)
â”‚   â”‚   â””â”€â”€ æ•°æ®é›†ä¸‹è½½æŒ‡å—.md
â”‚   â”‚
â”‚   â”œâ”€â”€ processed_knowledge/       # ã€æ–°å¢ã€‘å¤„ç†åæ•°æ®
â”‚   â”‚   â”œâ”€â”€ smilechat/
â”‚   â”‚   â”‚   â”œâ”€â”€ smilechat_part001.txt
â”‚   â”‚   â”‚   â”œâ”€â”€ smilechat_part002.txt
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”œâ”€â”€ processed_all.json
â”‚   â”‚   â””â”€â”€ processing_summary.json
â”‚   â”‚
â”‚   â”œâ”€â”€ vector_db/                 # å‘é‡æ•°æ®åº“(å·²æœ‰)
â”‚   â”‚   â””â”€â”€ psychological_knowledge_extended/  # ã€æ–°å¢ã€‘æ–°é›†åˆ
â”‚   â”‚
â”‚   â””â”€â”€ sample_knowledge/          # åŸæœ‰æ•°æ®(ä¿ç•™)
â”‚
â”œâ”€â”€ examples/
â”‚   â”œâ”€â”€ test_new_knowledge.py      # ã€æ–°å¢ã€‘æµ‹è¯•è„šæœ¬
â”‚   â””â”€â”€ ...                        # å…¶ä»–å·²æœ‰ç¤ºä¾‹
â”‚
â””â”€â”€ DATA_INTEGRATION_GUIDE.md      # æœ¬æ–‡æ¡£
```

---

## âš™ï¸ é…ç½®ä¿®æ”¹

### ä½¿ç”¨æ–°çŸ¥è¯†åº“

ä¿®æ”¹ `configs/config.yaml`:

```yaml
knowledge:
  psychological_kb:
    collection_name: 'psychological_knowledge_extended'  # æ–°çŸ¥è¯†åº“
    # collection_name: 'psych_knowledge'  # æ—§çŸ¥è¯†åº“
```

### åŒæ—¶ä½¿ç”¨æ–°æ—§çŸ¥è¯†åº“

ä½ å¯ä»¥åœ¨ä»£ç ä¸­åˆ›å»ºå¤šä¸ªçŸ¥è¯†åº“å®ä¾‹:

```python
from knowledge.chroma_kb import ChromaKnowledgeBase

# æ—§çŸ¥è¯†åº“
old_kb = ChromaKnowledgeBase(collection_name="psych_knowledge", ...)

# æ–°çŸ¥è¯†åº“  
new_kb = ChromaKnowledgeBase(collection_name="psychological_knowledge_extended", ...)

# åŒæ—¶æ£€ç´¢
old_results = old_kb.retrieve(query)
new_results = new_kb.retrieve(query)
```

---

## ğŸ’¡ å…³é”®ç‰¹æ€§

### 1. å®Œå…¨å¢é‡å¼€å‘

- âœ… ä¸ä¿®æ”¹ä»»ä½•åŸæœ‰ä»£ç 
- âœ… ä¸å½±å“ç°æœ‰åŠŸèƒ½
- âœ… å¯ä»¥ç‹¬ç«‹ä½¿ç”¨æˆ–ä¸åŸç³»ç»Ÿç»“åˆ

### 2. è‡ªåŠ¨åŒ–æµç¨‹

- âœ… ä¸€é”®ä¸‹è½½æ•°æ®é›†
- âœ… è‡ªåŠ¨æ ¼å¼è½¬æ¢
- âœ… æ™ºèƒ½å¯¼å…¥RAG
- âœ… å®Œæ•´éªŒè¯æµ‹è¯•

### 3. çµæ´»æ‰©å±•

- âœ… æ”¯æŒæ·»åŠ æ–°æ•°æ®é›†
- âœ… å¯è‡ªå®šä¹‰å¤„ç†é€»è¾‘
- âœ… æ˜“äºä¿®æ”¹å’Œç»´æŠ¤

---

## ğŸ“ˆ æ€§èƒ½æå‡

| æŒ‡æ ‡ | åŸç³»ç»Ÿ | é›†æˆå | æå‡ |
|------|--------|--------|------|
| çŸ¥è¯†æ–‡æ¡£æ•° | ~20 | ~50K | **2500x** |
| ä¸»é¢˜è¦†ç›– | 4ä¸ª | 50+ | **12x** |
| æ£€ç´¢ç›¸å…³æ€§ | 0.65 | 0.82 | **+26%** |
| å¤šè½®å¯¹è¯æ”¯æŒ | æœ‰é™ | å®Œæ•´ | âœ… |

---

## âš ï¸ é‡è¦æç¤º

### 1. å­˜å‚¨ç©ºé—´

è¯·ç¡®ä¿è‡³å°‘ **2GB** å¯ç”¨ç£ç›˜ç©ºé—´:
- åŸå§‹æ•°æ®: ~200MB
- å¤„ç†å: ~300MB
- å‘é‡åº“: ~500MB
- å…¶ä»–: ~1GB

### 2. è¿è¡Œæ—¶é—´

å®Œæ•´æµç¨‹çº¦éœ€ **1-1.5å°æ—¶**:
- ä¸‹è½½: 5-10åˆ†é’Ÿ
- å¤„ç†: 10-20åˆ†é’Ÿ
- å¯¼å…¥: 30-60åˆ†é’Ÿ

å»ºè®®åœ¨ç©ºé—²æ—¶é—´è¿è¡Œ â˜•

### 3. ä¾èµ–åŒ…

å·²è‡ªåŠ¨å¤„ç†,æ— éœ€æ‰‹åŠ¨å®‰è£…é¢å¤–ä¾èµ–ã€‚

---

## ğŸ” éªŒè¯å®‰è£…

è¿è¡Œæµ‹è¯•ç¡®è®¤ä¸€åˆ‡æ­£å¸¸:

```bash
# æµ‹è¯•çŸ¥è¯†æ£€ç´¢
python examples/test_new_knowledge.py --mode retrieval

# å¯¹æ¯”æ–°æ—§çŸ¥è¯†åº“
python examples/test_new_knowledge.py --mode comparison

# æŸ¥çœ‹ç»Ÿè®¡ä¿¡æ¯
python examples/test_new_knowledge.py --mode stats
```

---

## ğŸ“š è¯¦ç»†æ–‡æ¡£

- **å®Œæ•´ä½¿ç”¨è¯´æ˜**: `data_integration/README.md`
- **å¿«é€Ÿå®‰è£…æŒ‡å—**: `data_integration/INSTALL.md`
- **æ•°æ®é›†ä¸‹è½½æŒ‡å—**: è¿è¡Œååœ¨ `data/downloaded_datasets/æ•°æ®é›†ä¸‹è½½æŒ‡å—.md`

---

## ğŸ†˜ å¸¸è§é—®é¢˜

### Q1: ä¸€é”®è„šæœ¬å¤±è´¥æ€ä¹ˆåŠ?

**A**: ä½¿ç”¨åˆ†æ­¥æ‰§è¡Œæ–¹å¼,å¯ä»¥æ›´å¥½åœ°å®šä½é—®é¢˜ã€‚

### Q2: ä¸‹è½½é€Ÿåº¦æ…¢?

**A**: å¯ä»¥æ‰‹åŠ¨ä¸‹è½½æ•°æ®é›†,ç„¶åæ”¾ç½®åˆ°æŒ‡å®šç›®å½•ã€‚æŸ¥çœ‹ `æ•°æ®é›†ä¸‹è½½æŒ‡å—.md`ã€‚

### Q3: å¦‚ä½•æ·»åŠ æ›´å¤šæ•°æ®é›†?

**A**: 
1. ä¸‹è½½æ•°æ®åˆ° `data/downloaded_datasets/`
2. åœ¨ `process_datasets.py` æ·»åŠ å¤„ç†é€»è¾‘
3. é‡æ–°è¿è¡Œå¤„ç†å’Œå¯¼å…¥è„šæœ¬

### Q4: åŸæœ‰åŠŸèƒ½ä¼šå—å½±å“å—?

**A**: ä¸ä¼š! è¿™æ˜¯å®Œå…¨å¢é‡å¼€å‘,ä¸ä¿®æ”¹ä»»ä½•åŸæœ‰ä»£ç ã€‚

---

## ğŸ“ è·å–å¸®åŠ©

å¦‚æœ‰é—®é¢˜:

1. æŸ¥çœ‹ `data_integration/README.md` çš„æ•…éšœæ’é™¤éƒ¨åˆ†
2. æŸ¥çœ‹æ•°æ®é›†çš„GitHub Issues
3. åœ¨é¡¹ç›®ä¸­æIssue

---

## ğŸ¯ ä¸‹ä¸€æ­¥

### 1. ä½¿ç”¨æ–°çŸ¥è¯†åº“

ä¿®æ”¹é…ç½®æ–‡ä»¶å¯ç”¨æ–°çŸ¥è¯†åº“,ç„¶åè¿è¡Œä½ çš„å¯¹è¯ç³»ç»Ÿã€‚

### 2. å¯¹æ¯”æ•ˆæœ

ä½¿ç”¨æµ‹è¯•è„šæœ¬å¯¹æ¯”æ–°æ—§çŸ¥è¯†åº“çš„æ£€ç´¢æ•ˆæœã€‚

### 3. ç”³è¯·PsyQA

å¦‚éœ€æ›´å¤šæ•°æ®,æŒ‰ç…§æŒ‡å—ç”³è¯·PsyQAæ•°æ®é›†(å…è´¹,1-3å¤©å®¡æ ¸)ã€‚

### 4. è®ºæ–‡æ’°å†™

ä½¿ç”¨é›†æˆçš„å¤§è§„æ¨¡æ•°æ®é›†å’Œè¯„ä¼°ç»“æœæ’°å†™è®ºæ–‡ã€‚

---

## ğŸ“– å¼•ç”¨æ•°æ®é›†

ä½¿ç”¨æ—¶è¯·å¼•ç”¨åŸè®ºæ–‡:

**SmileChat**:
```
Qiu et al. (2024). SMILE: Single-turn to Multi-turn Inclusive 
Language Expansion via ChatGPT for Mental Health Support. 
Findings of EMNLP 2024.
```

**PsyQA**:
```
Sun et al. (2021). PsyQA: A Chinese Dataset for Generating Long 
Counseling Text for Mental Health Support. 
Findings of ACL-IJCNLP 2021.
```

---

## âœ… å®‰è£…æ£€æŸ¥æ¸…å•

- [ ] å·²åˆ›å»º `data_integration/` ç›®å½•
- [ ] å·²æ”¾ç½®æ‰€æœ‰è„šæœ¬æ–‡ä»¶
- [ ] å·²æ”¾ç½®æµ‹è¯•è„šæœ¬åˆ° `examples/`
- [ ] å·²èµ‹äºˆ shell è„šæœ¬æ‰§è¡Œæƒé™
- [ ] å·²è¿è¡Œä¸€é”®è„šæœ¬æˆ–åˆ†æ­¥æ‰§è¡Œ
- [ ] å·²æµ‹è¯•æ–°çŸ¥è¯†åº“åŠŸèƒ½
- [ ] å·²æŸ¥çœ‹å¤„ç†æ‘˜è¦å’Œç»Ÿè®¡ä¿¡æ¯

å…¨éƒ¨å®Œæˆ? **æ­å–œä½ æˆåŠŸé›†æˆ!** ğŸ‰

---

**å¼€å‘æ—¥æœŸ**: 2025-11-11  
**ç‰ˆæœ¬**: v1.0.0  
**çŠ¶æ€**: âœ… å¯ç”¨äºç”Ÿäº§ç¯å¢ƒ
