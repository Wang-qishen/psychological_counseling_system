# å¿ƒç†å’¨è¯¢å¯¹è¯ç³»ç»Ÿ

[![Python 3.8+](https://img.shields.io/badge/python-3.8+-blue.svg)](https://www.python.org/downloads/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

> **åŸºäºåŒçŸ¥è¯†åº“RAGä¸ä¸‰å±‚è®°å¿†çš„æ™ºèƒ½å¿ƒç†å’¨è¯¢å¯¹è¯ç³»ç»Ÿ**



---

## ğŸ“ é¡¹ç›®ç®€ä»‹

æœ¬ä»“åº“æ˜¯æˆ‘ä»¬è®ºæ–‡çš„å®ç°ä»£ç ï¼š

**ã€ŠåŸºäºåŒçŸ¥è¯†åº“RAGä¸ä¸‰å±‚è®°å¿†çš„æ™ºèƒ½å¿ƒç†å’¨è¯¢å¯¹è¯ç³»ç»Ÿã€‹**

ç³»ç»Ÿè§£å†³äº†AIå¿ƒç†å¥åº·æ”¯æŒä¸­çš„å…³é”®æŒ‘æˆ˜ï¼š
- **ä¸“ä¸šå‡†ç¡®æ€§**ï¼šé€šè¿‡æ£€ç´¢å¢å¼ºç”Ÿæˆ(RAG)æä¾›å¾ªè¯æ”¯æŒ
- **é•¿æœŸä¸ªæ€§åŒ–**ï¼šé€šè¿‡ä¸‰å±‚è®°å¿†ç³»ç»Ÿå®ç°è·¨ä¼šè¯è¿½è¸ª
- **éšç§ä¿æŠ¤**ï¼šæ”¯æŒæœ¬åœ°æ¨¡å‹éƒ¨ç½²

### æ ¸å¿ƒç‰¹æ€§

ğŸ”¬ **åŒçŸ¥è¯†åº“æ¶æ„**
- åˆ†ç¦»çš„ä¸“ä¸šå¿ƒç†å­¦çŸ¥è¯†åº“ï¼ˆCBTã€ç„¦è™‘ç®¡ç†ç­‰ï¼‰
- ä¸ªäººç”¨æˆ·æ¡£æ¡ˆçŸ¥è¯†åº“
- å·®å¼‚åŒ–æ£€ç´¢ç­–ç•¥å¹³è¡¡ä¸“ä¸šæ€§ä¸ä¸ªæ€§åŒ–

ğŸ§  **ä¸‰å±‚è®°å¿†ç³»ç»Ÿ**
- **å·¥ä½œè®°å¿†**ï¼šå½“å‰ä¼šè¯ä¸Šä¸‹æ–‡ï¼ˆæœ€è¿‘10è½®å¯¹è¯ï¼‰
- **çŸ­æœŸè®°å¿†**ï¼šä¼šè¯çº§åˆ«æ‘˜è¦ï¼ˆæœ€è¿‘20ä¸ªä¼šè¯ï¼‰
- **é•¿æœŸè®°å¿†**ï¼šæŒä¹…åŒ–ç”¨æˆ·æ¡£æ¡ˆå’Œè·¨ä¼šè¯è¶‹åŠ¿

ğŸ› ï¸ **æ¨¡å—åŒ–ä¸çµæ´»é…ç½®**
- æ”¯æŒæœ¬åœ°æ¨¡å‹ï¼ˆQwen2-7Bï¼‰å’ŒAPIæ¨¡å‹ï¼ˆGPT-4ï¼‰
- é€šè¿‡YAMLæ–‡ä»¶è½»æ¾é…ç½®
- ç‹¬ç«‹æ¨¡å—æµ‹è¯•å’Œæ›¿æ¢

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/Wang-qishen/psychological_counseling_system.git
cd psychological_counseling_system

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# ä¸‹è½½åµŒå…¥æ¨¡å‹ï¼ˆé¦–æ¬¡è¿è¡Œï¼‰
python -c "from sentence_transformers import SentenceTransformer; SentenceTransformer('paraphrase-multilingual-mpnet-base-v2')"
```

### åŸºæœ¬ä½¿ç”¨

```python
from dialogue import create_dialogue_manager_from_config
import yaml

# åŠ è½½é…ç½®
with open('configs/config.yaml', 'r', encoding='utf-8') as f:
    config = yaml.safe_load(f)

# åˆ›å»ºå¯¹è¯ç®¡ç†å™¨
manager = create_dialogue_manager_from_config(config)

# å¼€å§‹å¯¹è¯
user_id = "user001"
session_id = manager.start_session(user_id)

# èŠå¤©
response = manager.chat(
    user_id=user_id,
    session_id=session_id,
    user_message="æˆ‘æœ€è¿‘æ„Ÿè§‰å¾ˆç„¦è™‘..."
)

print(response)
```

### è¿è¡Œè¯„ä¼°å®éªŒ

```bash
# å¿«é€Ÿæµ‹è¯•ï¼ˆ5åˆ†é’Ÿï¼‰
python evaluation/scripts/run_quick_test.py

# å®Œæ•´å¯¹æ¯”å®éªŒï¼ˆå¤ç°è®ºæ–‡ç»“æœï¼‰
python examples/comparison_experiment.py
```

è¯¦è§[å¿«é€Ÿå¼€å§‹æŒ‡å—](docs/quickstart.md)ã€‚

---

## ğŸ“Š ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ç”¨æˆ·ç•Œé¢                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      å¯¹è¯ç®¡ç†å™¨                                   â”‚
â”‚  åè°ƒå„æ¨¡å— Â· ä¸Šä¸‹æ–‡æ„å»º Â· æç¤ºè¯å·¥ç¨‹                              â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                   â”‚                    â”‚
       â–¼                   â–¼                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  LLMå±‚      â”‚   â”‚   RAGå±‚          â”‚   â”‚   è®°å¿†å±‚            â”‚
â”‚             â”‚   â”‚                  â”‚   â”‚                    â”‚
â”‚ â€¢ Qwen2-7B  â”‚   â”‚ â€¢ ä¸“ä¸šçŸ¥è¯†åº“      â”‚   â”‚ â€¢ å·¥ä½œè®°å¿†          â”‚
â”‚ â€¢ GPT-4     â”‚   â”‚ â€¢ ä¸ªäººçŸ¥è¯†åº“      â”‚   â”‚ â€¢ çŸ­æœŸè®°å¿†          â”‚
â”‚             â”‚   â”‚                  â”‚   â”‚ â€¢ é•¿æœŸè®°å¿†          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

è¯¦è§[æ¶æ„æ–‡æ¡£](docs/architecture.md)ã€‚

---

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
psychological_counseling_system/
â”œâ”€â”€ README.md                    # æœ¬æ–‡ä»¶
â”œâ”€â”€ INSTALLATION.md              # è¯¦ç»†å®‰è£…æŒ‡å—
â”œâ”€â”€ requirements.txt             # Pythonä¾èµ–
â”‚
â”œâ”€â”€ configs/                     # é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ config.yaml              # ä¸»é…ç½®
â”‚
â”œâ”€â”€ dialogue/                    # å¯¹è¯ç®¡ç†æ¨¡å—
â”œâ”€â”€ llm/                         # LLMå±‚
â”œâ”€â”€ knowledge/                   # RAGå±‚
â”œâ”€â”€ memory/                      # è®°å¿†ç³»ç»Ÿ
â”œâ”€â”€ evaluation/                  # è¯„ä¼°æ¡†æ¶
â”œâ”€â”€ examples/                    # ä½¿ç”¨ç¤ºä¾‹
â”œâ”€â”€ experiments/                 # å®éªŒç»“æœ
â”œâ”€â”€ docs/                        # æ–‡æ¡£
â””â”€â”€ models/                      # æ¨¡å‹å­˜å‚¨
```

---

## ğŸ“š æ–‡æ¡£

- [å®‰è£…æŒ‡å—](INSTALLATION.md) - è¯¦ç»†å®‰è£…æ­¥éª¤
- [å¿«é€Ÿå¼€å§‹](docs/quickstart.md) - 5åˆ†é’Ÿä¸Šæ‰‹
- [ç³»ç»Ÿæ¶æ„](docs/architecture.md) - ç³»ç»Ÿè®¾è®¡
- [é…ç½®è¯´æ˜](docs/configuration.md) - é…ç½®å‚æ•°
- [è¯„ä¼°æŒ‡å—](docs/evaluation.md) - å¦‚ä½•å¤ç°å®éªŒ
- [ä½¿ç”¨ç¤ºä¾‹](docs/examples.md) - ä»£ç ç¤ºä¾‹

---

## ğŸ”¬ å¤ç°è®ºæ–‡ç»“æœ

æˆ‘ä»¬çš„è®ºæ–‡åŒ…å«ä¸‰ä¸ªä¸»è¦å®éªŒï¼š

### 1. å¯¹æ¯”å®éªŒ

å¯¹æ¯”ä¸‰ç§é…ç½®ï¼šè£¸LLMã€LLM+RAGã€å®Œæ•´ç³»ç»Ÿ

```bash
python examples/comparison_experiment.py
```

ç»“æœä¿å­˜åœ¨ `experiments/` ç›®å½•ã€‚

### 2. æ¡ˆä¾‹ç ”ç©¶

è¿è¡Œç‰¹å®šå’¨è¯¢åœºæ™¯ï¼š

```bash
python examples/case_study.py --scenario anxiety
```

### 3. ç”¨æˆ·ä½“éªŒè¯„ä¼°

è¯¦è§[è¯„ä¼°æŒ‡å—](docs/evaluation.md)ã€‚

---

## ğŸ› ï¸ é…ç½®

é€šè¿‡ `configs/config.yaml` çµæ´»é…ç½®ç³»ç»Ÿï¼š

```yaml
llm:
  backend: 'local'  # 'local' æˆ– 'api'
  local:
    model_path: 'models/qwen2-7b-instruct-q4_k_m.gguf'
  api:
    provider: 'openai'
    model: 'gpt-4o-mini'

rag:
  retrieval:
    top_k: 5
    score_threshold: 0.5

memory:
  layers:
    session:
      max_turns: 10
    profile:
      auto_update: true
```

è¯¦è§[é…ç½®æŒ‡å—](docs/configuration.md)ã€‚

---

